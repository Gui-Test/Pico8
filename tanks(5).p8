pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
--game loop

function _init()
player_make()
end

function _update()
player_move()
end

function _draw()
cls()
map_draw()
player_draw()
  
end
-->8
--player

function player_make()
	p={}
	p.x = 40
	p.y = 112
	p.sped = 1
	p.sprite = 1
	p.aim = 'right'
end

function player_draw()
 spr(p.sprite,p.x,p.y)
end

function player_move()
		
	local	lx=p.x
	local	ly=p.y
		
		--[[gambiarra pra ser igual
		battle city]]--
  if ((btn(⬅️)) and (btn(⬆️))) or 
  ((btn(⬅️)) and (btn(⬇️))) then 
   p.x -= p.sped
  elseif ((btn(➡️)) and (btn(⬆️))) or 
  ((btn(➡️)) and (btn(⬇️))) then
   p.x += p.sped
  
  --movimento normal
  elseif (btn(⬅️)) then 
   p.x -= p.sped 
   p.aim = 'left'
  elseif (btn(➡️)) then
   p.x += p.sped
   p.aim = 'right'
  elseif (btn(⬆️)) then 
   p.y -= p.sped 
   p.aim = 'up'
  elseif (btn(⬇️)) then
   p.y += p.sped 
   p.aim = 'down'
  end
  
  if colide(p.x,p.y,wall) then
   p.x=lx
   p.y=ly
  end
      
end
-->8
--map

function map_init()
 wall=0
 brick=1
 water=2
end 

function map_draw()
 map(0,0,0,0,16,16)
end

function colide(x,y,tile_tipe)
 local x1=x
 local y1=y
 local x2=(x+7)
 local y2=(y+7)
 
 local a=pixel(x1,y1)
 local b=pixel(x1,y2)
 local c=pixel(x2,y1)
 local d=pixel(x2,y2)
 	
 if a or b or c or d then
 	return true
 else
  return false
 end
 
end

function pixel(x,y)
 local sprite = mget((x/8),(y/8))
 --brick
 if (sprite==017)or(sprite==018)
 or (sprite==019)or(sprite==020) 
 --iron
 or (sprite==033)or(sprite==034)
 or (sprite==035)or(sprite==036)
 then
 	if (pget(x,y)==0) then
 		return false
 	else
 	 return true
 	end
 else
  return fget(sprite,wall)
 end
end 

__gfx__
000000000d6d6d0006d6d60000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000006d6d6000d6d6d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700033333000333330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000333dd666333dd66600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000333dd666333dd66600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700033333000333330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000006d6d6000d6d6d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000d6d6d0006d6d60000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
888f88880000888800000000888f0000888f88880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ffffffff0000ffff00000000ffff0000ffffffff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
8f8888f8000088f8000000008f8800008f8888f80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ffffffff0000ffff00000000ffff0000ffffffff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
888f888800008888888f8888888f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ffffffff0000ffffffffffffffff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
8f8888f8000088f88f8888f88f880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ffffffff0000ffffffffffffffff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
dddddddd0000dddd00000000dddd0000dddddddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
d66dd66d0000d66d00000000d66d0000d66dd66d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
d66dd66d0000d66d00000000d66d0000d66dd66d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
dddddddd0000dddd00000000dddd0000dddddddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
dddddddd0000dddddddddddddddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
d66dd66d0000d66dd66dd66dd66d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
d66dd66d0000d66dd66dd66dd66d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
dddddddd0000dddddddddddddddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
03b0b330cccccccc9999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3b0b0b03c7cccccc9999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b0b0b0b3ccccc77c9999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0b0b0b0bcc7ccccc9999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b0b0b0b0cccccc7c9999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3b0b0b0bcccc7ccc9999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
30b0b0b3c77ccccc9999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
033b0b30cccccccc9999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0000000000000000000000000000000003020202020000000000000000000000010000000000000000000000000000000005010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0010001000111000001013001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0010001000111000001013001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0010001000111020201013001000101500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000001500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1200101000001000001000001010001200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2400000000000000000000000000002400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0010001000111012121013001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0010001000111010101013001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0010001000111014141013001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0010001000111000001013001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0010001000000000000000001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000001114141300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000001100001300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3232323232323232323232323232323200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
